name: Deploy to Render

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Render Deploy
        run: |
          if [ -n "${{ secrets.RENDER_DEPLOY_HOOK_URL }}" ]; then
            echo "Triggering Render deploy..."
            curl -X GET "${{ secrets.RENDER_DEPLOY_HOOK_URL }}"
          else
            echo "RENDER_DEPLOY_HOOK_URL secret not set. Skipping manual trigger."
            echo "Note: If you have connected this repo to Render, it may auto-deploy on push depending on your settings."
          fi
